##  瀑布流新闻网站
浏览地址：[瀑布流新闻布局网站](http://js.jirengu.com/titayavoxo)
## 懒加载原理
- 1. 设置img元素的src属性为空(没有图片就不会显示喽)，将真实的图片地址设置在data-src中(这个属性名根据自己设置)

-  2. 对img元素的位置进行判断，如果出现在浏览器页面中或者自己设置的容器中，通过js来控制img中data-src将其图片地址添加到img的src中，让图片进行显示

##### 2. 对元素的位置进行判断
![image](http://upload-images.jianshu.io/upload_images/11461186-3ae3fe50fa6fda80.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- 1.窗口的的位置： ```$(window).height() ```
- 2.页面滚动的距离： ```$(window).scrollTop() ```
- 3.页面中内容的位置: ``` offset().top```

  当  *1+ 2 > 3* 的话内容出现在页面中,将图片的真实地址显示出来

## 瀑布流原理
-  1. 每张图片的宽度是一致的
-  2.  从左往右进行排序，第一排放不下则从第二排从新开始排列
-  3. 第二排或者往后的每排图片放置的位置为上一排高度最小图片的下面依次排放

### 瀑布流实现的原理
1.  图片的位置摆放
   - 图片位置的摆放大致可以不添加样式一次放置
- 通过设置成块级元素，进行摆放
- 通过绝对定位来进行摆放

2. 瀑布流图片/div容器的实现是通过对其进行绝对定位来实现的
> 1. 假设X轴列有4张图片，宽度为100px; 那第一张left 值为0，第二张left值为100px，第三张为200px,第四张为300px;
>
>2. 图片的高度，我们需要通过对其图片的高度进行判断，让第二横对的图片首先放到 X 列高度最小的图片下面(如图所示，一横列为4张图片，第五张图片放在第二横列中，寻找到第二列的图片高度最低，就将图片当道第二列中。第6张图片寻找到第四列的高度低就将图片放到第四列中，下面每次都是这样)
![屏幕快照 2018-08-18 下午7.54.27.png](http://upload-images.jianshu.io/upload_images/11461186-0e85b51f07cb83b9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
>
>3.因为图片的高度很重要，我们需要保存并进行比较，所以我们要用一个数组来接受图片的高度

## 实现原理
1. 先写出一个新闻列表模版，设置好样式
2. 初始化获取的数据，比如每次获取一次，每次获取20条新闻
3. 获取数据
4. 数据生成DOM
5. 检测DOM是否生成，在生成后通过瀑布流来部署到页面上
6. 通过空的DIV来判断用户是否拉到底部，确定是否需要继续加载新闻。